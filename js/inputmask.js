!function(e){"function"==typeof define&&define.amd?define("inputmask",["inputmask.dependencyLib"],e):"object"==typeof exports?module.exports=e(require("./inputmask.dependencyLib")):e(window.dependencyLib||jQuery)}(function(e){function t(i,a,o){if(!(this instanceof t))return new t(i,a,o);this.el=void 0,this.events={},this.maskset=void 0,this.refreshValue=!1,!0!==o&&(e.isPlainObject(i)?a=i:(a=a||{}).alias=i,this.opts=e.extend(!0,{},this.defaults,a),this.noMasksCache=a&&void 0!==a.definitions,this.userOptions=a||{},this.isRTL=this.opts.numericInput,n(this.opts.alias,a,this.opts))}function n(i,a,o){var r=t.prototype.aliases[i];return r?(r.alias&&n(r.alias,void 0,o),e.extend(!0,o,r),e.extend(!0,o,a),!0):(null===o.mask&&(o.mask=i),!1)}function i(n,i){function a(n,a,o){if(null!==n&&""!==n){if(1===n.length&&!1===o.greedy&&0!==o.repeat&&(o.placeholder=""),o.repeat>0||"*"===o.repeat||"+"===o.repeat){var r="*"===o.repeat?0:"+"===o.repeat?1:o.repeat;n=o.groupmarker.start+n+o.groupmarker.end+o.quantifiermarker.start+r+","+o.repeat+o.quantifiermarker.end}var s;return void 0===t.prototype.masksCache[n]||!0===i?(s={mask:n,maskToken:t.prototype.analyseMask(n,o),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:a,maskLength:void 0},!0!==i&&(t.prototype.masksCache[o.numericInput?n.split("").reverse().join(""):n]=s,s=e.extend(!0,{},t.prototype.masksCache[o.numericInput?n.split("").reverse().join(""):n]))):s=e.extend(!0,{},t.prototype.masksCache[o.numericInput?n.split("").reverse().join(""):n]),s}}var o;if(e.isFunction(n.mask)&&(n.mask=n.mask(n)),e.isArray(n.mask)){if(n.mask.length>1){n.keepStatic=null===n.keepStatic||n.keepStatic;var r=n.groupmarker.start;return e.each(n.numericInput?n.mask.reverse():n.mask,function(t,i){r.length>1&&(r+=n.groupmarker.end+n.alternatormarker+n.groupmarker.start),void 0===i.mask||e.isFunction(i.mask)?r+=i:r+=i.mask}),r+=n.groupmarker.end,a(r,n.mask,n)}n.mask=n.mask.pop()}return n.mask&&(o=void 0===n.mask.mask||e.isFunction(n.mask.mask)?a(n.mask,n.mask,n):a(n.mask.mask,n.mask,n)),o}function a(n,i,o){function u(e,t,n){t=t||0;var i,a,r,s=[],l=0,c=p();-1===(U=void 0!==Q?Q.maxLength:void 0)&&(U=void 0);do{!0===e&&f().validPositions[l]?(a=(r=f().validPositions[l]).match,i=r.locator.slice(),s.push(!0===n?r.input:!1===n?a.nativeDef:j(l,a))):(a=(r=m(l,i,l-1)).match,i=r.locator.slice(),(!1===o.jitMasking||l<c||"number"==typeof o.jitMasking&&isFinite(o.jitMasking)&&o.jitMasking>l)&&s.push(!1===n?a.nativeDef:j(l,a))),l++}while((void 0===U||l<U)&&(null!==a.fn||""!==a.def)||t>l);return""===s[s.length-1]&&s.pop(),f().maskLength=l+1,s}function f(){return i}function d(e){var t=f();t.buffer=void 0,!0!==e&&(t._buffer=void 0,t.validPositions={},t.p=0)}function p(e,t,n){var i=-1,a=-1,o=n||f().validPositions;void 0===e&&(e=-1);for(var r in o){var s=parseInt(r);o[s]&&(t||!0!==o[s].generatedInput)&&(s<=e&&(i=s),s>=e&&(a=s))}return-1!==i&&e-i>1||a<e?i:a}function v(t,n,i,a){var r,s=t,l=e.extend(!0,{},f().validPositions),c=!1;for(f().p=t,r=n-1;r>=s;r--)void 0!==f().validPositions[r]&&(!0!==i&&(!f().validPositions[r].match.optionality&&function(e){var t=f().validPositions[e];if(void 0!==t&&null===t.match.fn){var n=f().validPositions[e-1],i=f().validPositions[e+1];return void 0!==n&&void 0!==i}return!1}(r)||!1===o.canClearPosition(f(),r,p(),a,o))||delete f().validPositions[r]);for(d(!0),r=s+1;r<=p();){for(;void 0!==f().validPositions[s];)s++;if(r<s&&(r=s+1),void 0===f().validPositions[r]&&A(r))r++;else{var u=m(r);!1===c&&l[s]&&l[s].match.def===u.match.def?(f().validPositions[s]=e.extend(!0,{},l[s]),f().validPositions[s].input=u.input,delete f().validPositions[r],r++):g(s,u.match.def)?!1!==_(s,u.input||j(r),!0)&&(delete f().validPositions[r],r++,c=!0):A(r)||(r++,s--),s++}}d(!0)}function h(e,t){for(var n,i=e,a=p(),r=f().validPositions[a]||y(0)[0],s=void 0!==r.alternation?r.locator[r.alternation].toString().split(","):[],l=0;l<i.length&&(!((n=i[l]).match&&(o.greedy&&!0!==n.match.optionalQuantifier||(!1===n.match.optionality||!1===n.match.newBlockMarker)&&!0!==n.match.optionalQuantifier)&&(void 0===r.alternation||r.alternation!==n.alternation||void 0!==n.locator[r.alternation]&&w(n.locator[r.alternation].toString().split(","),s)))||!0===t&&(null!==n.match.fn||/[0-9a-bA-Z]/.test(n.match.def)));l++);return n}function m(e,t,n){return f().validPositions[e]||h(y(e,t?t.slice():t,n))}function k(e){return f().validPositions[e]?f().validPositions[e]:y(e)[0]}function g(e,t){for(var n=!1,i=y(e),a=0;a<i.length;a++)if(i[a].match&&i[a].match.def===t){n=!0;break}return n}function y(t,n,i){function a(n,i,r,l){function u(r,l,h){function m(t,n){var i=0===e.inArray(t,n.matches);return i||e.each(n.matches,function(e,a){if(!0===a.isQuantifier&&(i=m(t,n.matches[e-1])))return!1}),i}function k(t,n,i){var a,o;return(f().tests[t]||f().validPositions[t])&&e.each(f().tests[t]||[f().validPositions[t]],function(e,t){var r=void 0!==i?i:t.alternation,s=void 0!==t.locator[r]?t.locator[r].toString().indexOf(n):-1;(void 0===o||s<o)&&-1!==s&&(a=t,o=s)}),a?a.locator.slice((void 0!==i?i:a.alternation)+1):void 0!==i?k(t,n):void 0}if(c>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+f().mask;if(c===t&&void 0===r.matches)return d.push({match:r,locator:l.reverse(),cd:v}),!0;if(void 0!==r.matches){if(r.isGroup&&h!==r){if(r=u(n.matches[e.inArray(r,n.matches)+1],l))return!0}else if(r.isOptional){var g=r;if(r=a(r,i,l,h)){if(s=d[d.length-1].match,!m(s,g))return!0;p=!0,c=t}}else if(r.isAlternator){var y,b=r,P=[],C=d.slice(),E=l.length,w=i.length>0?i.shift():-1;if(-1===w||"string"==typeof w){var _,A=c,x=i.slice(),M=[];if("string"==typeof w)M=w.split(",");else for(_=0;_<b.matches.length;_++)M.push(_);for(var O=0;O<M.length;O++){if(_=parseInt(M[O]),d=[],i=k(c,_,E)||x.slice(),!0!==(r=u(b.matches[_]||n.matches[_],[_].concat(l),h)||r)&&void 0!==r&&M[M.length-1]<b.matches.length){var S=e.inArray(r,n.matches)+1;n.matches.length>S&&(r=u(n.matches[S],[S].concat(l.slice(1,l.length)),h))&&(M.push(S.toString()),e.each(d,function(e,t){t.alternation=l.length-1}))}y=d.slice(),c=A,d=[];for(var j=0;j<y.length;j++){var D=y[j],T=!1;D.alternation=D.alternation||E;for(var I=0;I<P.length;I++){var L=P[I];if(("string"!=typeof w||-1!==e.inArray(D.locator[D.alternation].toString(),M))&&(D.match.def===L.match.def||function(e,n){return null===e.match.fn&&null!==n.match.fn&&n.match.fn.test(e.match.def,f(),t,!1,o,!1)}(D,L))){T=D.match.nativeDef===L.match.nativeDef,D.alternation==L.alternation&&-1===L.locator[L.alternation].toString().indexOf(D.locator[D.alternation])&&(L.locator[L.alternation]=L.locator[L.alternation]+","+D.locator[D.alternation],L.alternation=D.alternation,null==D.match.fn&&(L.na=L.na||D.locator[D.alternation].toString(),-1===L.na.indexOf(D.locator[D.alternation])&&(L.na=L.na+","+D.locator[D.alternation])));break}}T||P.push(D)}}"string"==typeof w&&(P=e.map(P,function(t,n){if(isFinite(n)){var i=t.alternation,a=t.locator[i].toString().split(",");t.locator[i]=void 0,t.alternation=void 0;for(var o=0;o<a.length;o++)-1!==e.inArray(a[o],M)&&(void 0!==t.locator[i]?(t.locator[i]+=",",t.locator[i]+=a[o]):t.locator[i]=parseInt(a[o]),t.alternation=i);if(void 0!==t.locator[i])return t}})),d=C.concat(P),c=t,p=d.length>0,i=x.slice()}else r=u(b.matches[w]||n.matches[w],[w].concat(l),h);if(r)return!0}else if(r.isQuantifier&&h!==n.matches[e.inArray(r,n.matches)-1])for(var G=r,B=i.length>0?i.shift():0;B<(isNaN(G.quantifier.max)?B+1:G.quantifier.max)&&c<=t;B++){var F=n.matches[e.inArray(G,n.matches)-1];if(r=u(F,[B].concat(l),F)){if(s=d[d.length-1].match,s.optionalQuantifier=B>G.quantifier.min-1,m(s,F)){if(B>G.quantifier.min-1){p=!0,c=t;break}return!0}return!0}}else if(r=a(r,i,l,h))return!0}else c++}for(var h=i.length>0?i.shift():0;h<n.matches.length;h++)if(!0!==n.matches[h].isQuantifier){var m=u(n.matches[h],[h].concat(r),l);if(m&&c===t)return m;if(c>t)break}}function r(e){return o.keepStatic&&t>0&&e.length>1+(""===e[e.length-1].match.def?1:0)&&!0!==e[0].match.optionality&&!0!==e[0].match.optionalQuantifier&&null===e[0].match.fn&&!/[0-9a-bA-Z]/.test(e[0].match.def)?[h(e)]:e}var s,l=f().maskToken,c=n?i:0,u=n?n.slice():[0],d=[],p=!1,v=n?n.join(""):"";if(t>-1){if(void 0===n){for(var m,k=t-1;void 0===(m=f().validPositions[k]||f().tests[k])&&k>-1;)k--;void 0!==m&&k>-1&&(u=function(t){var n=[];return e.isArray(t)||(t=[t]),t.length>0&&(void 0===t[0].alternation?0===(n=h(t.slice()).locator.slice()).length&&(n=t[0].locator.slice()):e.each(t,function(e,t){if(""!==t.def)if(0===n.length)n=t.locator.slice();else for(var i=0;i<n.length;i++)t.locator[i]&&-1===n[i].toString().indexOf(t.locator[i])&&(n[i]+=","+t.locator[i])})),n}(m),v=u.join(""),c=k)}if(f().tests[t]&&f().tests[t][0].cd===v)return r(f().tests[t]);for(var g=u.shift();g<l.length&&!(a(l[g],u,[g])&&c===t||c>t);g++);}return(0===d.length||p)&&d.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:v}),void 0!==n&&f().tests[t]?r(e.extend(!0,[],d)):(f().tests[t]=e.extend(!0,[],d),r(f().tests[t]))}function b(){return void 0===f()._buffer&&(f()._buffer=u(!1,1),void 0===f().buffer&&f()._buffer.slice()),f()._buffer}function P(e){return void 0!==f().buffer&&!0!==e||(f().buffer=u(!0,p(),!0)),f().buffer}function C(e,t,n){var i;if(!0===e)d(),e=0,t=n.length;else for(i=e;i<t;i++)delete f().validPositions[i];for(i=e;i<t;i++)d(!0),n[i]!==o.skipOptionalPartCharacter&&_(i,n[i],!0,!0)}function E(e,n,i){switch(o.casing||n.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var a=f().validPositions[i-1];e=0===i||a&&a.input===String.fromCharCode(t.keyCode.SPACE)?e.toUpperCase():e.toLowerCase()}return e}function w(t,n,i){for(var a,r=o.greedy?n:n.slice(0,1),s=!1,l=void 0!==i?i.split(","):[],c=0;c<l.length;c++)-1!==(a=t.indexOf(l[c]))&&t.splice(a,1);for(var u=0;u<t.length;u++)if(-1!==e.inArray(t[u],r)){s=!0;break}return s}function _(n,i,a,r,s){function l(e){var t=q?e.begin-e.end>1||e.begin-e.end==1&&o.insertMode:e.end-e.begin>1||e.end-e.begin==1&&o.insertMode;return t&&0===e.begin&&e.end===f().maskLength?"full":t}function c(t,i,a){var s=!1;return e.each(y(t),function(c,h){for(var m=h.match,k=i?1:0,g="",y=m.cardinality;y>k;y--)g+=O(t-(y-1));if(i&&(g+=i),P(!0),!1!==(s=null!=m.fn?m.fn.test(g,f(),t,a,o,l(n)):(i===m.def||i===o.skipOptionalPartCharacter)&&""!==m.def&&{c:j(t,m,!0)||m.def,pos:t})){var b=void 0!==s.c?s.c:i;b=b===o.skipOptionalPartCharacter&&null===m.fn?j(t,m,!0)||m.def:b;var w=t,A=P();if(void 0!==s.remove&&(e.isArray(s.remove)||(s.remove=[s.remove]),e.each(s.remove.sort(function(e,t){return t-e}),function(e,t){v(t,t+1,!0)})),void 0!==s.insert&&(e.isArray(s.insert)||(s.insert=[s.insert]),e.each(s.insert.sort(function(e,t){return e-t}),function(e,t){_(t.pos,t.c,!0,r)})),s.refreshFromBuffer){var x=s.refreshFromBuffer;if(a=!0,C(!0===x?x:x.start,x.end,A),void 0===s.pos&&void 0===s.c)return s.pos=p(),!1;if((w=void 0!==s.pos?s.pos:t)!==t)return s=e.extend(s,_(w,b,!0,r)),!1}else if(!0!==s&&void 0!==s.pos&&s.pos!==t&&(w=s.pos,C(t,w,P().slice()),w!==t))return s=e.extend(s,_(w,b,!0)),!1;return(!0===s||void 0!==s.pos||void 0!==s.c)&&(c>0&&d(!0),u(w,e.extend({},h,{input:E(b,m,w)}),r,l(n))||(s=!1),!1)}}),s}function u(t,n,i,a){if(a||o.insertMode&&void 0!==f().validPositions[t]&&void 0===i){var r,s=e.extend(!0,{},f().validPositions),l=p(void 0,!0);for(r=t;r<=l;r++)delete f().validPositions[r];f().validPositions[t]=e.extend(!0,{},n);var c,u=!0,v=f().validPositions,h=!1,m=f().maskLength;for(r=c=t;r<=l;r++){var y=s[r];if(void 0!==y)for(var b=c;b<f().maskLength&&(null===y.match.fn&&v[r]&&(!0===v[r].match.optionalQuantifier||!0===v[r].match.optionality)||null!=y.match.fn);){if(b++,!1===h&&s[b]&&s[b].match.def===y.match.def)f().validPositions[b]=e.extend(!0,{},s[b]),f().validPositions[b].input=y.input,k(b),c=b,u=!0;else if(g(b,y.match.def)){var P=_(b,y.input,!0,!0);u=!1!==P,c=P.caret||P.insert?p():b,h=!0}else if(!(u=!0===y.generatedInput)&&b>=f().maskLength-1)break;if(f().maskLength<m&&(f().maskLength=m),u)break}if(!u)break}if(!u)return f().validPositions=e.extend(!0,{},s),d(!0),!1}else f().validPositions[t]=e.extend(!0,{},n);return d(!0),!0}function k(t){for(var n=t-1;n>-1&&!f().validPositions[n];n--);var i,a;for(n++;n<t;n++)void 0===f().validPositions[n]&&(!1===o.jitMasking||o.jitMasking>n)&&(""===(a=y(n,m(n-1).locator,n-1).slice())[a.length-1].match.def&&a.pop(),(i=h(a))&&(i.match.def===o.radixPointDefinitionSymbol||!A(n,!0)||e.inArray(o.radixPoint,P())<n&&i.match.fn&&i.match.fn.test(j(n),f(),n,!1,o))&&!1!==(M=c(n,j(n,i.match,!0)||(null==i.match.fn?i.match.def:""!==j(n)?j(n):P()[n]),!0))&&(f().validPositions[M.pos||n].generatedInput=!0))}a=!0===a;var b=n;void 0!==n.begin&&(b=q&&!l(n)?n.end:n.begin);var M=!1,S=e.extend(!0,{},f().validPositions);if(k(b),l(n)&&(F(void 0,t.keyCode.DELETE,n),b=f().p),b<f().maskLength&&(M=c(b,i,a),(!a||!0===r)&&!1===M)){var D=f().validPositions[b];if(!D||null!==D.match.fn||D.match.def!==i&&i!==o.skipOptionalPartCharacter){if((o.insertMode||void 0===f().validPositions[x(b)])&&!A(b,!0))for(var T=b+1,I=x(b);T<=I;T++)if(!1!==(M=c(T,i,a))){!function(t,n){var i=f().validPositions[n];if(i)for(var a=i.locator,o=a.length,r=t;r<n;r++)if(void 0===f().validPositions[r]&&!A(r,!0)){var s=y(r).slice(),l=h(s,!0),d=-1;""===s[s.length-1].match.def&&s.pop(),e.each(s,function(e,t){for(var n=0;n<o;n++){if(void 0===t.locator[n]||!w(t.locator[n].toString().split(","),a[n].toString().split(","),t.na)){var i=a[n],r=l.locator[n],s=t.locator[n];i-r>Math.abs(i-s)&&(l=t);break}d<n&&(d=n,l=t)}}),(l=e.extend({},l,{input:j(r,l.match,!0)||l.match.def})).generatedInput=!0,u(r,l,!0),f().validPositions[n]=void 0,c(n,i.input,!0)}}(b,void 0!==M.pos?M.pos:T),b=T;break}}else M={caret:x(b)}}return!1===M&&o.keepStatic&&!a&&!0!==s&&(M=function(t,n,i){var a,s,l,c,u,v,h,m,k=e.extend(!0,{},f().validPositions),g=!1,b=p();for(c=f().validPositions[b];b>=0;b--)if((l=f().validPositions[b])&&void 0!==l.alternation){if(a=b,s=f().validPositions[a].alternation,c.locator[l.alternation]!==l.locator[l.alternation])break;c=l}if(void 0!==s){m=parseInt(a);var P=void 0!==c.locator[c.alternation||s]?c.locator[c.alternation||s]:h[0];P.length>0&&(P=P.split(",")[0]);var C=f().validPositions[m],E=f().validPositions[m-1];e.each(y(m,E?E.locator:void 0,m-1),function(a,l){h=l.locator[s]?l.locator[s].toString().split(","):[];for(var c=0;c<h.length;c++){var y=[],b=0,E=0,w=!1;if(P<h[c]&&(void 0===l.na||-1===e.inArray(h[c],l.na.split(",")))){f().validPositions[m]=e.extend(!0,{},l);var A=f().validPositions[m].locator;for(f().validPositions[m].locator[s]=parseInt(h[c]),null==l.match.fn?(C.input!==l.match.def&&(w=!0,!0!==C.generatedInput&&y.push(C.input)),E++,f().validPositions[m].generatedInput=!/[0-9a-bA-Z]/.test(l.match.def),f().validPositions[m].input=l.match.def):f().validPositions[m].input=C.input,u=m+1;u<p(void 0,!0)+1;u++)(v=f().validPositions[u])&&!0!==v.generatedInput&&/[0-9a-bA-Z]/.test(v.input)?y.push(v.input):u<t&&b++,delete f().validPositions[u];for(w&&y[0]===l.match.def&&y.shift(),d(!0),g=!0;y.length>0;){var x=y.shift();if(x!==o.skipOptionalPartCharacter&&!(g=_(p(void 0,!0)+1,x,!1,r,!0)))break}if(g){f().validPositions[m].locator=A;var M=p(t)+1;for(u=m+1;u<p()+1;u++)(void 0===(v=f().validPositions[u])||null==v.match.fn)&&u<t+(E-b)&&E++;g=_((t+=E-b)>M?M:t,n,i,r,!0)}if(g)return!1;d(),f().validPositions=e.extend(!0,{},k)}}})}return g}(b,i,a)),!0===M&&(M={pos:b}),e.isFunction(o.postValidation)&&!1!==M&&!a&&!0!==r&&(M=!!o.postValidation(P(!0),M,o)&&M),void 0===M.pos&&(M.pos=b),!1===M&&(d(!0),f().validPositions=e.extend(!0,{},S)),M}function A(e,t){var n;if(t?""===(n=m(e).match).def&&(n=k(e).match):n=k(e).match,null!=n.fn)return n.fn;if(!0!==t&&e>-1){var i=y(e);return i.length>1+(""===i[i.length-1].match.def?1:0)}return!1}function x(e,t){var n=f().maskLength;if(e>=n)return n;for(var i=e;++i<n&&(!0===t&&(!0!==k(i).match.newBlockMarker||!A(i))||!0!==t&&!A(i)););return i}function M(e,t){var n,i=e;if(i<=0)return 0;for(;--i>0&&(!0===t&&!0!==k(i).match.newBlockMarker||!0!==t&&!A(i)&&((n=y(i)).length<2||2===n.length&&""===n[1].match.def)););return i}function O(e){return void 0===f().validPositions[e]?j(e):f().validPositions[e].input}function S(t,n,i,a,r){if(a&&e.isFunction(o.onBeforeWrite)){var s=o.onBeforeWrite(a,n,i,o);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;C(!0===l?l:l.start,l.end,s.buffer||n),n=P(!0)}void 0!==i&&(i=void 0!==s.caret?s.caret:i)}}t.inputmask._valueSet(n.join("")),void 0===i||void 0!==a&&"blur"===a.type?R(t,n,i):I(t,i),!0===r&&(Z=!0,e(t).trigger("input"))}function j(t,n,i){if(void 0!==(n=n||k(t).match).placeholder||!0===i)return e.isFunction(n.placeholder)?n.placeholder(o):n.placeholder;if(null===n.fn){if(t>-1&&void 0===f().validPositions[t]){var a,r=y(t),s=[];if(r.length>1+(""===r[r.length-1].match.def?1:0))for(var l=0;l<r.length;l++)if(!0!==r[l].match.optionality&&!0!==r[l].match.optionalQuantifier&&(null===r[l].match.fn||void 0===a||!1!==r[l].match.fn.test(a.match.def,f(),t,!0,o))&&(s.push(r[l]),null===r[l].match.fn&&(a=r[l]),s.length>1&&/[0-9a-bA-Z]/.test(s[0].match.def)))return o.placeholder.charAt(t%o.placeholder.length)}return n.def}return o.placeholder.charAt(t%o.placeholder.length)}function D(n,i,a,r,s,l){function c(){var e=!1,t=b().slice(h,x(h)).join("").indexOf(v);if(-1!==t&&!A(h)){e=!0;for(var n=b().slice(h,h+t),i=0;i<n.length;i++)if(" "!==n[i]){e=!1;break}}return e}var u=r.slice(),v="",h=0,k=void 0;if(d(),f().p=x(-1),!a)if(!0!==o.autoUnmask){var g=b().slice(0,x(-1)).join(""),y=u.join("").match(new RegExp("^"+t.escapeRegex(g),"g"));y&&y.length>0&&(u.splice(0,y.length*g.length),h=x(h))}else h=x(h);if(e.each(u,function(t,i){if(void 0!==i){var r=new e.Event("keypress");r.which=i.charCodeAt(0),v+=i;var s=p(void 0,!0),l=f().validPositions[s],u=m(s+1,l?l.locator.slice():void 0,s);if(!c()||a||o.autoUnmask){var g=a?t:null==u.match.fn&&u.match.optionality&&s+1<f().p?s+1:f().p;k=Y.keypressEvent.call(n,r,!0,!1,a,g),h=g+1,v=""}else k=Y.keypressEvent.call(n,r,!0,!1,!0,s+1);if(!a&&e.isFunction(o.onBeforeWrite)&&(k=o.onBeforeWrite(r,P(),k.forwardPosition,o))&&k.refreshFromBuffer){var y=k.refreshFromBuffer;C(!0===y?y:y.start,y.end,k.buffer),d(!0),k.caret&&(f().p=k.caret)}}}),i){var E=void 0,w=p();document.activeElement===n&&(s||k)&&(E=I(n).begin,s&&!1===k&&(E=x(p(E))),k&&!0!==l&&(E<w+1||-1===w)&&(E=o.numericInput&&void 0===k.caret?M(k.forwardPosition):k.forwardPosition)),S(n,P(),E,s||new e.Event("checkval"))}}function T(t){if(t){if(void 0===t.inputmask)return t.value;t.inputmask&&t.inputmask.refreshValue&&Y.setValueEvent.call(t)}var n=[],i=f().validPositions;for(var a in i)i[a].match&&null!=i[a].match.fn&&n.push(i[a].input);var r=0===n.length?"":(q?n.reverse():n).join("");if(e.isFunction(o.onUnMask)){var s=(q?P().slice().reverse():P()).join("");r=o.onUnMask(s,r,o)||r}return r}function I(e,t,n,i){function a(e){return!0===i||!q||"number"!=typeof e||o.greedy&&""===o.placeholder||(e=P().join("").length-e),e}var s;if("number"!=typeof t)return e.setSelectionRange?(t=e.selectionStart,n=e.selectionEnd):window.getSelection?(s=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&s.commonAncestorContainer!==e||(t=s.startOffset,n=s.endOffset):document.selection&&document.selection.createRange&&(n=(t=0-(s=document.selection.createRange()).duplicate().moveStart("character",-e.inputmask._valueGet().length))+s.text.length),{begin:a(t),end:a(n)};t=a(t),n="number"==typeof(n=a(n))?n:t;var l=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*n;if(e.scrollLeft=l>e.scrollWidth?l:0,r||!1!==o.insertMode||t!==n||n++,e.setSelectionRange)e.selectionStart=t,e.selectionEnd=n;else if(window.getSelection){if(s=document.createRange(),void 0===e.firstChild||null===e.firstChild){var c=document.createTextNode("");e.appendChild(c)}s.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),s.setEnd(e.firstChild,n<e.inputmask._valueGet().length?n:e.inputmask._valueGet().length),s.collapse(!0);var u=window.getSelection();u.removeAllRanges(),u.addRange(s)}else e.createTextRange&&((s=e.createTextRange()).collapse(!0),s.moveEnd("character",n),s.moveStart("character",t),s.select());R(e,void 0,{begin:t,end:n})}function L(t){var n,i,a=P(),o=a.length,r=p(),s={},l=f().validPositions[r],c=void 0!==l?l.locator.slice():void 0;for(n=r+1;n<a.length;n++)c=(i=m(n,c,n-1)).locator.slice(),s[n]=e.extend(!0,{},i);var u=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(n=o-1;n>r&&(((i=s[n]).match.optionality||i.match.optionalQuantifier||u&&(u!==s[n].locator[l.alternation]&&null!=i.match.fn||null===i.match.fn&&i.locator[l.alternation]&&w(i.locator[l.alternation].toString().split(","),u.toString().split(","))&&""!==y(n)[0].def))&&a[n]===j(n,i.match));n--)o--;return t?{l:o,def:s[o]?s[o].match:void 0}:o}function G(e){for(var t,n=L(),i=e.length;n<i&&!A(n+1)&&(t=k(n+1))&&!0!==t.match.optionality&&!0!==t.match.optionalQuantifier;)n++;for(;(t=k(n-1))&&t.match.optionality&&t.input===o.skipOptionalPartCharacter;)n--;return e.splice(n),e}function B(t){if(e.isFunction(o.isComplete))return o.isComplete(t,o);if("*"!==o.repeat){var n=!1,i=L(!0),a=M(i.l);if(void 0===i.def||i.def.newBlockMarker||i.def.optionality||i.def.optionalQuantifier){n=!0;for(var r=0;r<=a;r++){var s=m(r).match;if(null!==s.fn&&void 0===f().validPositions[r]&&!0!==s.optionality&&!0!==s.optionalQuantifier||null===s.fn&&t[r]!==j(r,s)){n=!1;break}}}return n}}function F(n,i,a,r){if((o.numericInput||q)&&(i===t.keyCode.BACKSPACE?i=t.keyCode.DELETE:i===t.keyCode.DELETE&&(i=t.keyCode.BACKSPACE),q)){var s=a.end;a.end=a.begin,a.begin=s}i===t.keyCode.BACKSPACE&&(a.end-a.begin<1||!1===o.insertMode)?(a.begin=M(a.begin),void 0===f().validPositions[a.begin]||f().validPositions[a.begin].input!==o.groupSeparator&&f().validPositions[a.begin].input!==o.radixPoint||a.begin--):i===t.keyCode.DELETE&&a.begin===a.end&&(a.end=A(a.end,!0)?a.end+1:x(a.end)+1,void 0===f().validPositions[a.begin]||f().validPositions[a.begin].input!==o.groupSeparator&&f().validPositions[a.begin].input!==o.radixPoint||a.end++),v(a.begin,a.end,!1,r),!0!==r&&function(){if(o.keepStatic){for(var t=[],i=p(-1,!0),a=e.extend(!0,{},f().validPositions),r=f().validPositions[i];i>=0;i--){var s=f().validPositions[i];if(s){if(!0!==s.generatedInput&&/[0-9a-bA-Z]/.test(s.input)&&t.push(s.input),delete f().validPositions[i],void 0!==s.alternation&&s.locator[s.alternation]!==r.locator[s.alternation])break;r=s}}if(i>-1)for(f().p=x(p(-1,!0));t.length>0;){var l=new e.Event("keypress");l.which=t.pop().charCodeAt(0),Y.keypressEvent.call(n,l,!0,!1,!1,f().p)}else f().validPositions=e.extend(!0,{},a)}}();var l=p(a.begin,!0);l<a.begin?f().p=x(l):!0!==r&&(f().p=a.begin)}function N(t){function n(e){var n,i=document.createElement("span");for(var a in r)isNaN(a)&&-1!==a.indexOf("font")&&(i.style[a]=r[a]);i.style.textTransform=r.textTransform,i.style.letterSpacing=r.letterSpacing,i.style.position="absolute",i.style.height="auto",i.style.width="auto",i.style.visibility="hidden",i.style.whiteSpace="nowrap",document.body.appendChild(i);var o,s=t.inputmask._valueGet(),l=0;for(n=0,o=s.length;n<=o;n++){if(i.innerHTML+=s.charAt(n)||"_",i.offsetWidth>=e){var c=e-l,u=i.offsetWidth-e;i.innerHTML=s.charAt(n),n=(c-=i.offsetWidth/3)<u?n-1:n;break}l=i.offsetWidth}return document.body.removeChild(i),n}function i(){V.style.position="absolute",V.style.top=a.top+"px",V.style.left=a.left+"px",V.style.width=parseInt(t.offsetWidth)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth)+"px",V.style.height=parseInt(t.offsetHeight)-parseInt(r.paddingTop)-parseInt(r.paddingBottom)-parseInt(r.borderTopWidth)-parseInt(r.borderBottomWidth)+"px",V.style.lineHeight=V.style.height,V.style.zIndex=isNaN(r.zIndex)?-1:r.zIndex-1,V.style.webkitAppearance="textfield",V.style.mozAppearance="textfield",V.style.Appearance="textfield"}var a=e(t).position(),r=(t.ownerDocument.defaultView||window).getComputedStyle(t,null);t.parentNode;V=document.createElement("div"),document.body.appendChild(V);for(var s in r)isNaN(s)&&"cssText"!==s&&-1==s.indexOf("webkit")&&(V.style[s]=r[s]);t.style.backgroundColor="transparent",t.style.color="transparent",t.style.webkitAppearance="caret",t.style.mozAppearance="caret",t.style.Appearance="caret",i(),e(window).on("resize",function(n){a=e(t).position(),r=(t.ownerDocument.defaultView||window).getComputedStyle(t,null),i()}),e(t).on("click",function(e){return I(t,n(e.clientX)),Y.clickEvent.call(this,[e])}),e(t).on("keydown",function(e){e.shiftKey||!1===o.insertMode||setTimeout(function(){R(t)},0)})}function R(e,t,n){function i(){r||null!==l.fn&&void 0!==c.input?r&&null!==l.fn&&void 0!==c.input&&(r=!1,a+="</span>"):(r=!0,a+="<span class='im-static''>")}if(void 0!==V){t=t||P(),void 0===n?n=I(e):void 0===n.begin&&(n={begin:n,end:n});var a="",r=!1;if(""!=t){var s,l,c,u=0,d=p();do{u===n.begin&&document.activeElement===e&&(a+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>"),f().validPositions[u]?(c=f().validPositions[u],l=c.match,s=c.locator.slice(),i(),a+=c.input):(c=m(u,s,u-1),l=c.match,s=c.locator.slice(),(!1===o.jitMasking||u<d||"number"==typeof o.jitMasking&&isFinite(o.jitMasking)&&o.jitMasking>u)&&(i(),a+=j(u,l))),u++}while((void 0===U||u<U)&&(null!==l.fn||""!==l.def)||d>u)}V.innerHTML=a}}i=i||this.maskset,o=o||this.opts;var K,H,U,V,W,Q=this.el,q=this.isRTL,z=!1,Z=!1,X=!1,$=!1,J={on:function(n,i,a){var r=function(n){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var i=e.data(this,"_inputmask_opts");i?new t(i).mask(this):J.off(this)}else{if("setvalue"===n.type||"FORM"===this.nodeName||!(this.disabled||this.readOnly&&!("keydown"===n.type&&n.ctrlKey&&67===n.keyCode||!1===o.tabThrough&&n.keyCode===t.keyCode.TAB))){switch(n.type){case"input":if(!0===Z)return Z=!1,n.preventDefault();break;case"keydown":z=!1,Z=!1;break;case"keypress":if(!0===z)return n.preventDefault();z=!0;break;case"click":if(s||l){var r=this,c=arguments;return setTimeout(function(){a.apply(r,c)},0),!1}}var u=a.apply(this,arguments);return!1===u&&(n.preventDefault(),n.stopPropagation()),u}n.preventDefault()}};n.inputmask.events[i]=n.inputmask.events[i]||[],n.inputmask.events[i].push(r),-1!==e.inArray(i,["submit","reset"])?null!=n.form&&e(n.form).on(i,r):e(n).on(i,r)},off:function(t,n){if(t.inputmask&&t.inputmask.events){var i;n?(i=[])[n]=t.inputmask.events[n]:i=t.inputmask.events,e.each(i,function(n,i){for(;i.length>0;){var a=i.pop();-1!==e.inArray(n,["submit","reset"])?null!=t.form&&e(t.form).off(n,a):e(t).off(n,a)}delete t.inputmask.events[n]})}}},Y={keydownEvent:function(n){var i=this,a=e(i),r=n.keyCode,s=I(i);if(r===t.keyCode.BACKSPACE||r===t.keyCode.DELETE||l&&r===t.keyCode.BACKSPACE_SAFARI||n.ctrlKey&&r===t.keyCode.X&&!function(e){var t=document.createElement("input"),n="on"+e,i=n in t;return i||(t.setAttribute(n,"return;"),i="function"==typeof t[n]),t=null,i}("cut"))n.preventDefault(),F(i,r,s),S(i,P(!0),f().p,n,i.inputmask._valueGet()!==P().join("")),i.inputmask._valueGet()===b().join("")?a.trigger("cleared"):!0===B(P())&&a.trigger("complete");else if(r===t.keyCode.END||r===t.keyCode.PAGE_DOWN){n.preventDefault();var c=x(p());o.insertMode||c!==f().maskLength||n.shiftKey||c--,I(i,n.shiftKey?s.begin:c,c,!0)}else r===t.keyCode.HOME&&!n.shiftKey||r===t.keyCode.PAGE_UP?(n.preventDefault(),I(i,0,n.shiftKey?s.begin:0,!0)):(o.undoOnEscape&&r===t.keyCode.ESCAPE||90===r&&n.ctrlKey)&&!0!==n.altKey?(D(i,!0,!1,K.split("")),a.trigger("click")):r!==t.keyCode.INSERT||n.shiftKey||n.ctrlKey?!0===o.tabThrough&&r===t.keyCode.TAB?(!0===n.shiftKey?(null===k(s.begin).match.fn&&(s.begin=x(s.begin)),s.end=M(s.begin,!0),s.begin=M(s.end,!0)):(s.begin=x(s.begin,!0),s.end=x(s.begin,!0),s.end<f().maskLength&&s.end--),s.begin<f().maskLength&&(n.preventDefault(),I(i,s.begin,s.end))):n.shiftKey||!1===o.insertMode&&(r===t.keyCode.RIGHT?setTimeout(function(){var e=I(i);I(i,e.begin)},0):r===t.keyCode.LEFT&&setTimeout(function(){var e=I(i);I(i,q?e.begin+1:e.begin-1)},0)):(o.insertMode=!o.insertMode,I(i,o.insertMode||s.begin!==f().maskLength?s.begin:s.begin-1));o.onKeyDown.call(this,n,P(),I(i).begin,o),X=-1!==e.inArray(r,o.ignorables)},keypressEvent:function(n,i,a,r,s){var l=this,c=e(l),u=n.which||n.charCode||n.keyCode;if(!(!0===i||n.ctrlKey&&n.altKey)&&(n.ctrlKey||n.metaKey||X))return u===t.keyCode.ENTER&&K!==P().join("")&&(K=P().join(""),setTimeout(function(){c.trigger("change")},0)),!0;if(u){46===u&&!1===n.shiftKey&&""!==o.radixPoint&&(u=o.radixPoint.charCodeAt(0));var p,v=i?{begin:s,end:s}:I(l),h=String.fromCharCode(u);f().writeOutBuffer=!0;var m=_(v,h,r);if(!1!==m&&(d(!0),p=void 0!==m.caret?m.caret:i?m.pos+1:x(m.pos),f().p=p),!1!==a){var k=this;if(setTimeout(function(){o.onKeyValidation.call(k,u,m,o)},0),f().writeOutBuffer&&!1!==m){var g=P();S(l,g,o.numericInput&&void 0===m.caret?M(p):p,n,!0!==i),!0!==i&&setTimeout(function(){!0===B(g)&&c.trigger("complete")},0)}}if(n.preventDefault(),i)return m.forwardPosition=p,m}},pasteEvent:function(t){var n,i=this,a=t.originalEvent||t,r=e(i),s=i.inputmask._valueGet(!0),l=I(i);q&&(n=l.end,l.end=l.begin,l.begin=n);var c=s.substr(0,l.begin),u=s.substr(l.end,s.length);if(c===(q?b().reverse():b()).slice(0,l.begin).join("")&&(c=""),u===(q?b().reverse():b()).slice(l.end).join("")&&(u=""),q&&(n=c,c=u,u=n),window.clipboardData&&window.clipboardData.getData)s=c+window.clipboardData.getData("Text")+u;else{if(!a.clipboardData||!a.clipboardData.getData)return!0;s=c+a.clipboardData.getData("text/plain")+u}var f=s;if(e.isFunction(o.onBeforePaste)){if(!1===(f=o.onBeforePaste(s,o)))return t.preventDefault();f||(f=s)}return D(i,!1,!1,q?f.split("").reverse():f.toString().split("")),S(i,P(),x(p()),t,K!==P().join("")),!0===B(P())&&r.trigger("complete"),t.preventDefault()},inputFallBackEvent:function(n){var i=this,a=i.inputmask._valueGet();if(P().join("")!==a){var o=I(i);if(a=a.replace(new RegExp("("+t.escapeRegex(b().join(""))+")*"),""),s){var r=a.replace(P().join(""),"");if(1===r.length){var l=new e.Event("keypress");return l.which=r.charCodeAt(0),Y.keypressEvent.call(i,l,!0,!0,!1,f().validPositions[o.begin-1]?o.begin:o.begin-1),!1}}if(o.begin>a.length&&(I(i,a.length),o=I(i)),P().length-a.length!=1||a.charAt(o.begin)===P()[o.begin]||a.charAt(o.begin+1)===P()[o.begin]||A(o.begin)){for(var c=p()+1,u=b().join("");null===a.match(t.escapeRegex(u)+"$");)u=u.slice(1);D(i,!0,!1,a=(a=a.replace(u,"")).split(""),n,o.begin<c),!0===B(P())&&e(i).trigger("complete")}else n.keyCode=t.keyCode.BACKSPACE,Y.keydownEvent.call(i,n);n.preventDefault()}},setValueEvent:function(t){this.inputmask.refreshValue=!1;var n=this,i=n.inputmask._valueGet();D(n,!0,!1,(e.isFunction(o.onBeforeMask)?o.onBeforeMask(i,o)||i:i).split("")),K=P().join(""),(o.clearMaskOnLostFocus||o.clearIncomplete)&&n.inputmask._valueGet()===b().join("")&&n.inputmask._valueSet("")},focusEvent:function(e){var t=this,n=t.inputmask._valueGet();o.showMaskOnFocus&&(!o.showMaskOnHover||o.showMaskOnHover&&""===n)&&(t.inputmask._valueGet()!==P().join("")?S(t,P(),x(p())):!1===$&&I(t,x(p()))),!0===o.positionCaretOnTab&&Y.clickEvent.apply(t,[e,!0]),K=P().join("")},mouseleaveEvent:function(e){var t=this;if($=!1,o.clearMaskOnLostFocus&&document.activeElement!==t){var n=P().slice(),i=t.inputmask._valueGet();i!==t.getAttribute("placeholder")&&""!==i&&(-1===p()&&i===b().join("")?n=[]:G(n),S(t,n))}},clickEvent:function(t,n){function i(t){if(""!==o.radixPoint){var n=f().validPositions;if(void 0===n[t]||n[t].input===j(t)){if(t<x(-1))return!0;var i=e.inArray(o.radixPoint,P());if(-1!==i){for(var a in n)if(i<a&&n[a].input!==j(a))return!1;return!0}}}return!1}var a=this;setTimeout(function(){if(document.activeElement===a){var t=I(a);if(n&&(t.begin=t.end),t.begin===t.end)switch(o.positionCaretOnClick){case"none":break;case"radixFocus":if(i(t.begin)){var r=e.inArray(o.radixPoint,P().join(""));I(a,o.numericInput?x(r):r);break}default:var s=t.begin,l=x(p(s,!0));if(s<l)I(a,A(s)||A(s-1)?s:x(s));else{var c=j(l);(""!==c&&P()[l]!==c&&!0!==k(l).match.optionalQuantifier||!A(l)&&k(l).match.def===c)&&(l=x(l)),I(a,l)}}}},0)},dblclickEvent:function(e){var t=this;setTimeout(function(){I(t,0,x(p()))},0)},cutEvent:function(n){var i=this,a=e(i),o=I(i),r=n.originalEvent||n,s=window.clipboardData||r.clipboardData,l=q?P().slice(o.end,o.begin):P().slice(o.begin,o.end);s.setData("text",q?l.reverse().join(""):l.join("")),document.execCommand&&document.execCommand("copy"),F(i,t.keyCode.DELETE,o),S(i,P(),f().p,n,K!==P().join("")),i.inputmask._valueGet()===b().join("")&&a.trigger("cleared")},blurEvent:function(t){var n=e(this),i=this;if(i.inputmask){var a=i.inputmask._valueGet(),r=P().slice();K!==r.join("")&&setTimeout(function(){n.trigger("change"),K=r.join("")},0),""!==a&&(o.clearMaskOnLostFocus&&(-1===p()&&a===b().join("")?r=[]:G(r)),!1===B(r)&&(setTimeout(function(){n.trigger("incomplete")},0),o.clearIncomplete&&(d(),r=o.clearMaskOnLostFocus?[]:b().slice())),S(i,r,void 0,t))}},mouseenterEvent:function(e){var t=this;$=!0,document.activeElement!==t&&o.showMaskOnHover&&t.inputmask._valueGet()!==P().join("")&&S(t,P())},submitEvent:function(e){K!==P().join("")&&H.trigger("change"),o.clearMaskOnLostFocus&&-1===p()&&Q.inputmask._valueGet&&Q.inputmask._valueGet()===b().join("")&&Q.inputmask._valueSet(""),o.removeMaskOnSubmit&&(Q.inputmask._valueSet(Q.inputmask.unmaskedvalue(),!0),setTimeout(function(){S(Q,P())},0))},resetEvent:function(e){Q.inputmask.refreshValue=!0,setTimeout(function(){H.trigger("setvalue")},0)}};if(void 0!==n)switch(n.action){case"isComplete":return Q=n.el,B(P());case"unmaskedvalue":return void 0!==Q&&void 0===n.value||(W=n.value,W=(e.isFunction(o.onBeforeMask)?o.onBeforeMask(W,o)||W:W).split(""),D(void 0,!1,!1,q?W.reverse():W),e.isFunction(o.onBeforeWrite)&&o.onBeforeWrite(void 0,P(),0,o)),T(Q);case"mask":!function(t){var n=function(t,n){var i=t.getAttribute("type"),a="INPUT"===t.tagName&&-1!==e.inArray(i,n.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!a)if("INPUT"===t.tagName){var o=document.createElement("input");o.setAttribute("type",i),a="text"===o.type,o=null}else a="partial";return!1!==a&&function(t){function i(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==p()||!0!==n.nullable?document.activeElement===this&&n.clearMaskOnLostFocus?(q?G(P().slice()).reverse():G(P().slice())).join(""):o.call(this):"":o.call(this)}function a(t){r.call(this,t),this.inputmask&&e(this).trigger("setvalue")}var o,r;if(!t.inputmask.__valueGet){if(!0!==n.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var s=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;s&&s.get&&s.set?(o=s.get,r=s.set,Object.defineProperty(t,"value",{get:i,set:a,configurable:!0})):"INPUT"!==t.tagName&&(o=function(){return this.textContent},r=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:i,set:a,configurable:!0}))}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(o=t.__lookupGetter__("value"),r=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",a));t.inputmask.__valueGet=o,t.inputmask.__valueSet=r}t.inputmask._valueGet=function(e){return q&&!0!==e?o.call(this.el).split("").reverse().join(""):o.call(this.el)},t.inputmask._valueSet=function(e,t){r.call(this.el,null===e||void 0===e?"":!0!==t&&q?e.split("").reverse().join(""):e)},void 0===o&&(o=function(){return this.value},r=function(e){this.value=e},function(t){if(e.valHooks&&(void 0===e.valHooks[t]||!0!==e.valHooks[t].inputmaskpatch)){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},a=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=i(e);return-1!==p(void 0,void 0,e.inputmask.maskset.validPositions)||!0!==n.nullable?t:""}return i(e)},set:function(t,n){var i,o=e(t);return i=a(t,n),t.inputmask&&o.trigger("setvalue"),i},inputmaskpatch:!0}}}(t.type),function(t){J.on(t,"mouseenter",function(t){var n=e(this);this.inputmask._valueGet()!==P().join("")&&n.trigger("setvalue")})}(t))}}(t),a}(t,o);if(!1!==n&&(Q=t,H=e(Q),("rtl"===Q.dir||o.rightAlign)&&(Q.style.textAlign="right"),("rtl"===Q.dir||o.numericInput)&&(Q.dir="ltr",Q.removeAttribute("dir"),Q.inputmask.isRTL=!0,q=!0),!0===o.colorMask&&N(Q),c&&(Q.hasOwnProperty("inputmode")&&(Q.inputmode=o.inputmode,Q.setAttribute("inputmode",o.inputmode)),"rtfm"===o.androidHack&&(!0!==o.colorMask&&N(Q),Q.type="password")),J.off(Q),!0===n&&(J.on(Q,"submit",Y.submitEvent),J.on(Q,"reset",Y.resetEvent),J.on(Q,"mouseenter",Y.mouseenterEvent),J.on(Q,"blur",Y.blurEvent),J.on(Q,"focus",Y.focusEvent),J.on(Q,"mouseleave",Y.mouseleaveEvent),!0!==o.colorMask&&J.on(Q,"click",Y.clickEvent),J.on(Q,"dblclick",Y.dblclickEvent),J.on(Q,"paste",Y.pasteEvent),J.on(Q,"dragdrop",Y.pasteEvent),J.on(Q,"drop",Y.pasteEvent),J.on(Q,"cut",Y.cutEvent),J.on(Q,"complete",o.oncomplete),J.on(Q,"incomplete",o.onincomplete),J.on(Q,"cleared",o.oncleared),c&&!0===o.inputEventOnly||(J.on(Q,"keydown",Y.keydownEvent),J.on(Q,"keypress",Y.keypressEvent)),J.on(Q,"compositionstart",e.noop),J.on(Q,"compositionupdate",e.noop),J.on(Q,"compositionend",e.noop),J.on(Q,"keyup",e.noop),J.on(Q,"input",Y.inputFallBackEvent),J.on(Q,"beforeinput",e.noop)),J.on(Q,"setvalue",Y.setValueEvent),b(),""!==Q.inputmask._valueGet()||!1===o.clearMaskOnLostFocus||document.activeElement===Q)){var i=e.isFunction(o.onBeforeMask)?o.onBeforeMask(Q.inputmask._valueGet(),o)||Q.inputmask._valueGet():Q.inputmask._valueGet();D(Q,!0,!1,i.split(""));var a=P().slice();K=a.join(""),!1===B(a)&&o.clearIncomplete&&d(),o.clearMaskOnLostFocus&&document.activeElement!==Q&&(-1===p()?a=[]:G(a)),S(Q,a),document.activeElement===Q&&I(Q,x(p()))}}(Q);break;case"format":return W=(e.isFunction(o.onBeforeMask)?o.onBeforeMask(n.value,o)||n.value:n.value).split(""),D(void 0,!1,!1,q?W.reverse():W),e.isFunction(o.onBeforeWrite)&&o.onBeforeWrite(void 0,P(),0,o),n.metadata?{value:q?P().slice().reverse().join(""):P().join(""),metadata:a.call(this,{action:"getmetadata"},i,o)}:q?P().slice().reverse().join(""):P().join("");case"isValid":n.value?(W=n.value.split(""),D(void 0,!1,!0,q?W.reverse():W)):n.value=P().join("");for(var ee=P(),te=L(),ne=ee.length-1;ne>te&&!A(ne);ne--);return ee.splice(te,ne+1-te),B(ee)&&n.value===P().join("");case"getemptymask":return b().join("");case"remove":if(Q){H=e(Q),Q.inputmask._valueSet(T(Q)),J.off(Q);Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Q),"value")&&Q.inputmask.__valueGet&&Object.defineProperty(Q,"value",{get:Q.inputmask.__valueGet,set:Q.inputmask.__valueSet,configurable:!0}):document.__lookupGetter__&&Q.__lookupGetter__("value")&&Q.inputmask.__valueGet&&(Q.__defineGetter__("value",Q.inputmask.__valueGet),Q.__defineSetter__("value",Q.inputmask.__valueSet)),Q.inputmask=void 0}return Q;case"getmetadata":if(e.isArray(i.metadata)){var ie=u(!0,0,!1).join("");return e.each(i.metadata,function(e,t){if(t.mask===ie)return ie=t,!1}),ie}return i.metadata}}var o=navigator.userAgent,r=/mobile/i.test(o),s=/iemobile/i.test(o),l=/iphone/i.test(o)&&!s,c=/android/i.test(o)&&!s;return t.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,n){return e.isFunction(n.onBeforeMask)?n.onBeforeMask(t,n):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,canClearPosition:e.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1},definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},aliases:{},masksCache:{},mask:function(o){function r(t,i,a,o){function r(e,n){null!==(n=void 0!==n?n:t.getAttribute(o+"-"+e))&&("string"==typeof n&&(0===e.indexOf("on")?n=window[n]:"false"===n?n=!1:"true"===n&&(n=!0)),a[e]=n)}var s,l,c,u,f=t.getAttribute(o);if(f&&""!==f&&(f=f.replace(new RegExp("'","g"),'"'),l=JSON.parse("{"+f+"}")),l){c=void 0;for(u in l)if("alias"===u.toLowerCase()){c=l[u];break}}r("alias",c),a.alias&&n(a.alias,a,i);for(s in i){if(l){c=void 0;for(u in l)if(u.toLowerCase()===s.toLowerCase()){c=l[u];break}}r(s,c)}return e.extend(!0,i,a),i}var s=this;return"string"==typeof o&&(o=document.getElementById(o)||document.querySelectorAll(o)),o=o.nodeName?[o]:o,e.each(o,function(n,o){var l=e.extend(!0,{},s.opts);r(o,l,e.extend(!0,{},s.userOptions),s.dataAttribute);var c=i(l,s.noMasksCache);void 0!==c&&(void 0!==o.inputmask&&o.inputmask.remove(),o.inputmask=new t(void 0,void 0,!0),o.inputmask.opts=l,o.inputmask.noMasksCache=s.noMasksCache,o.inputmask.userOptions=e.extend(!0,{},s.userOptions),o.inputmask.isRTL=s.isRTL,o.inputmask.el=o,o.inputmask.maskset=c,e.data(o,"_inputmask_opts",l),a.call(o.inputmask,{action:"mask"}))}),o&&o[0]?o[0].inputmask||this:this},option:function(t,n){return"string"==typeof t?this.opts[t]:"object"==typeof t?(e.extend(this.userOptions,t),this.el&&!0!==n&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return a.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"format",value:e,metadata:t})},analyseMask:function(n,i){function a(e,t,n,i){this.matches=[],this.openGroup=e||!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function o(e,n,a){var o=(i.definitions?i.definitions[n]:void 0)||t.prototype.definitions[n];a=void 0!==a?a:e.matches.length;var r=e.matches[a-1];if(o&&!k){for(var s=o.prevalidator,l=s?s.length:0,c=1;c<o.cardinality;c++){var u=l>=c?s[c-1]:[],f=u.validator,d=u.cardinality;e.matches.splice(a++,0,{fn:f?"string"==typeof f?new RegExp(f):new function(){this.test=f}:new RegExp("."),cardinality:d||1,optionality:e.isOptional,newBlockMarker:void 0===r||r.def!==(o.definitionSymbol||n),casing:o.casing,def:o.definitionSymbol||n,placeholder:o.placeholder,nativeDef:n}),r=e.matches[a-1]}e.matches.splice(a++,0,{fn:o.validator?"string"==typeof o.validator?new RegExp(o.validator):new function(){this.test=o.validator}:new RegExp("."),cardinality:o.cardinality,optionality:e.isOptional,newBlockMarker:void 0===r||r.def!==(o.definitionSymbol||n),casing:o.casing,def:o.definitionSymbol||n,placeholder:o.placeholder,nativeDef:n})}else e.matches.splice(a++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:void 0===r||r.def!==n,casing:null,def:i.staticDefinitionSymbol||n,placeholder:void 0!==i.staticDefinitionSymbol?n:void 0,nativeDef:n}),k=!1}function r(t){t&&t.matches&&e.each(t.matches,function(e,n){var a=t.matches[e+1];(void 0===a||void 0===a.matches||!1===a.isQuantifier)&&n&&n.isGroup&&(n.isGroup=!1,o(n,i.groupmarker.start,0),!0!==n.openGroup&&o(n,i.groupmarker.end)),r(n)})}function s(){if(y.length>0){if(d=y[y.length-1],o(d,u),d.isAlternator){p=y.pop();for(var e=0;e<p.matches.length;e++)p.matches[e].isGroup=!1;y.length>0?(d=y[y.length-1]).matches.push(p):g.matches.push(p)}}else o(g,u)}function l(e){e.matches=e.matches.reverse();for(var t in e.matches)if(e.matches.hasOwnProperty(t)){var n=parseInt(t);if(e.matches[t].isQuantifier&&e.matches[n+1]&&e.matches[n+1].isGroup){var a=e.matches[t];e.matches.splice(t,1),e.matches.splice(n+1,0,a)}void 0!==e.matches[t].matches?e.matches[t]=l(e.matches[t]):e.matches[t]=function(e){return e===i.optionalmarker.start?e=i.optionalmarker.end:e===i.optionalmarker.end?e=i.optionalmarker.start:e===i.groupmarker.start?e=i.groupmarker.end:e===i.groupmarker.end&&(e=i.groupmarker.start),e}(e.matches[t])}return e}for(var c,u,f,d,p,v,h,m=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,k=!1,g=new a,y=[],b=[];c=m.exec(n);)if(u=c[0],k)s();else switch(u.charAt(0)){case i.escapeChar:k=!0;break;case i.optionalmarker.end:case i.groupmarker.end:if(f=y.pop(),f.openGroup=!1,void 0!==f)if(y.length>0){if((d=y[y.length-1]).matches.push(f),d.isAlternator){p=y.pop();for(var P=0;P<p.matches.length;P++)p.matches[P].isGroup=!1;y.length>0?(d=y[y.length-1]).matches.push(p):g.matches.push(p)}}else g.matches.push(f);else s();break;case i.optionalmarker.start:y.push(new a(!1,!0));break;case i.groupmarker.start:y.push(new a(!0));break;case i.quantifiermarker.start:var C=new a(!1,!1,!0),E=(u=u.replace(/[{}]/g,"")).split(","),w=isNaN(E[0])?E[0]:parseInt(E[0]),_=1===E.length?w:isNaN(E[1])?E[1]:parseInt(E[1]);if("*"!==_&&"+"!==_||(w="*"===_?0:1),C.quantifier={min:w,max:_},y.length>0){var A=y[y.length-1].matches;(c=A.pop()).isGroup||((h=new a(!0)).matches.push(c),c=h),A.push(c),A.push(C)}else(c=g.matches.pop()).isGroup||((h=new a(!0)).matches.push(c),c=h),g.matches.push(c),g.matches.push(C);break;case i.alternatormarker:(v=y.length>0?(d=y[y.length-1]).matches.pop():g.matches.pop()).isAlternator?y.push(v):((p=new a(!1,!1,!1,!0)).matches.push(v),y.push(p));break;default:s()}for(;y.length>0;)f=y.pop(),g.matches.push(f);return g.matches.length>0&&(r(g),b.push(g)),i.numericInput&&l(b[0]),b}},t.extendDefaults=function(n){e.extend(!0,t.prototype.defaults,n)},t.extendDefinitions=function(n){e.extend(!0,t.prototype.definitions,n)},t.extendAliases=function(n){e.extend(!0,t.prototype.aliases,n)},t.format=function(e,n,i){return t(n).format(e,i)},t.unmask=function(e,n){return t(n).unmaskedvalue(e)},t.isValid=function(e,n){return t(n).isValid(e)},t.remove=function(t){e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},t.escapeRegex=function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},t.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},window.Inputmask=t,t});